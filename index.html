<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="https://akhilchainani.github.io/cs498DVAssignment/index.css">
<style> rect {fill: lightblue; stroke: black; }</style>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://akhilchainani.github.io/cs498DVAssignment/cityBarChart.js"></script>
<script src="https://akhilchainani.github.io/cs498DVAssignment/multiScatterPlot.js"></script>
</head>
<body>
<h1>Data Visualization - Final Project</h1>

<p>Click on the buttons inside the tabbed menu:</p>

<div class="tab">
	<button class="tablinks" onclick="openVisualization(event, 'Overview')">About the Visualization</button>
	<button class="tablinks" onclick="openVisualization(event, 'SceneOne')">Versus Other Cities</button>
	<button class="tablinks" onclick="openVisualization(event, 'SceneTwo')">Variation Between Sizes</button>
	<button class="tablinks" onclick="openVisualization(event, 'SceneThree')">Over The Years</button>
</div>

<div id="Overview" class="tabcontent">
   <ul>
      <li>
         Does the narrative visualization correctly follow the hybrid structure as stated by the essay?
         <p>
		TODO://Answer
         </p>
      </li>
      <li>
         Does the narrative visualization effectively utilize scenes?
         <p> 
		TODO://Answer
        </p>
         <p>
		TODO://Answer             
        </p>
         <p> 
		TODO://Answer
        </p>
      </li>
      <li>
         Does the narrative visualization effectively utilize annotations?
         <p> 	
		TODO://Answer
	 </p>
      </li>
      <li>
         Does the narrative visualization effectively utilize parameters?
         <p>  
		TODO://Answer
        </p>
      </li>
      <li>
         Does the narrative visualization effectively utilize triggers?
         <p>	
		TODO://Answer
 </p>
      </li>
	   <li>
         Code organization.
         <p> 	
		TODO://Answer
	 </p>
      </li>
   </ul>
</div>

<div id="SceneOne" class="tabcontent">
  <div id="tooltip"></div>
	<p> 
		TODO://Description
	</p>
</div>

<div id="SceneTwo" class="tabcontent">
	<p>
		TODO://Description
	</p>
</div>
	
<div id="SceneThree" class="tabcontent">
	<p>
		TODO://Description
	</p>
</div>

<script>
function SceneOne() {
        var margin = {
                top: 20,
                right: 20,
                bottom: 30,
                left: 100
            };
        var width = 960 - margin.left - margin.right;
        var height = 600 - margin.top - margin.bottom;
    
	d3.select('body').append('svg').attr('width', 960).attr('height', 600);
	var x = d3.scaleBand().domain([0,1,2,3,4]).range([0,width]);
	var y = d3.scaleLinear().domain([0, 2500]).range([height, 0]);
	chart = d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+margin.top+")");
        const data = d3.csv("https://raw.githubusercontent.com/akhilchainani/cs498DVAssignment/master/Preprocessed_Rent.csv")
		       .then(function(data) {
				console.log(data);
				chart.selectAll('rect').data(data)
				.enter().append('rect')
			       	.filter(function(d) { return d.Bedroom_Size == "Studio"; })
				.attr('x', function(d,i) { return x(i); })
				.attr('y', function(d) { return y(parseFloat(d.Price_2018__AVG)); })
				.attr('width', x.bandwidth())
				.attr('height', function(d) { return height - y(parseFloat(d.Price_2018__AVG)); });
		       })
		       .catch(function() {
				console.log("error");	
		       });
	console.log(data);
	var xAxis = d3.axisBottom(x).tickValues(["New York, NY", "Chicago, IL", "San Francisco, CA", "Seattle, WA", "Champaign, IL"]);
	d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+margin.top+")").call(d3.axisLeft(y));
	d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+(height+margin.top)+")").call(xAxis);
}
function SceneTwo() {
	var margin = {
                top: 20,
                right: 20,
                bottom: 30,
                left: 100
            };
        var width = 960 - margin.left - margin.right;
        var height = 600 - margin.top - margin.bottom;
    
	d3.select('body').append('svg').attr('width', 960).attr('height', 600);
	var x = d3.scaleBand().domain([0,1,2,3,4]).range([0,width]);
	var y = d3.scaleLinear().domain([1250, 3750]).range([height, 0]);
	chart = d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+margin.top+")");
        const data = d3.csv("https://raw.githubusercontent.com/akhilchainani/cs498DVAssignment/master/Preprocessed_Rent.csv")
		       .then(function(data) {
				console.log(data);
				chart.selectAll('rect').data(data)
				.enter().append('rect')
			       	.filter(function(d) { return d.Location == "New York, NY"; })
				.attr('x', function(d,i) { return x(i); })
				.attr('y', function(d) { return y(parseFloat(d.Price_2018__AVG)); })
				.attr('width', x.bandwidth())
				.attr('height', function(d) { return height - y(parseFloat(d.Price_2018__AVG)); });
		       })
		       .catch(function() {
				console.log("error");	
		       });
	console.log(data);
	var xAxis = d3.axisBottom(x).tickValues(["Studio", "One Bedroom", "Two Bedroom", "Three Bedroom", "Four Bedroom"]);
	d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+margin.top+")").call(d3.axisLeft(y));
	d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+(height+margin.top)+")").call(xAxis);
}
	
function SceneThree() {
	var margin = {
                top: 20,
                right: 20,
                bottom: 30,
                left: 100
            };
        var width = 960 - margin.left - margin.right;
        var height = 600 - margin.top - margin.bottom;
    
	d3.select('body').append('svg').attr('width', 960).attr('height', 600);
	var x = d3.scaleBand().domain([0,1,2,3,4,5]).range([0,width]);
	var y = d3.scaleLinear().domain([1700, 2000]).range([height, 0]);
	chart = d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+margin.top+")");
        const data = d3.csv("https://raw.githubusercontent.com/akhilchainani/cs498DVAssignment/master/Pivoted_data.csv")
		       .then(function(data) {
				console.log(data);
				chart.selectAll('rect').data(data)
				.enter().append('rect')
			       	.filter(function(d) { return d.Location == "New York, NY" && d.Bedroom_Size == "Studio"; })
				.attr('x', function(d,i) { return x(i); })
				.attr('y', function(d) { return y(parseFloat(d.AVG_Rent)); })
				.attr('width', x.bandwidth())
				.attr('height', function(d) { return height - y(parseFloat(d.AVG_Rent)); });
		       })
		       .catch(function() {
				console.log("error");	
		       });
	console.log(data);
	var xAxis = d3.axisBottom(x).tickValues(["2014", "2015", "2016", "2017", "2018", "2019"]);
	d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+margin.top+")").call(d3.axisLeft(y));
	d3.select('svg').append('g').attr('transform', "translate("+margin.left+","+(height+margin.top)+")").call(xAxis);
}

function openVisualization(evt, visName) {
    console.log("new event")
    var i, tabcontent, tablinks;
	d3.select("svg").remove();
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
	tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(visName).style.display = "block";
	if(evt!==0)
		evt.currentTarget.className += " active";
		
	if(visName==='SceneOne')
		SceneOne();
	if(visName==='SceneTwo')
		SceneTwo();
	if(visName==='SceneThree')
		SceneThree();
	if(visName==='Overview')
		tablinks[0].className += " active";
}
openVisualization(0,'Overview');
</script>
     
</body>
</html> 
